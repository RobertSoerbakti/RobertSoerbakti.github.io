console.log("Last modification time: 11/4/2019, 10:46:58 AM");
webpackJsonp([4],{"7slG":function(e,t){},EEKM:function(e,t,a){e.exports=a.p+"static/img/ag-logo.c9b3e10.png"},GK12:function(e,t){},Kgfm:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fZjL"),s=a.n(n),i=a("W3Iv"),o=a.n(i),l=a("7+uW"),c={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view",{staticClass:"full"})},staticRenderFns:[]};var r=a("VU/8")({name:"App"},c,!1,function(e){a("biX+")},null,null).exports,d=a("/ocq"),u=a("lbHh"),p={components:{BaseOptions:function(){return a.e(2).then(a.bind(null,"0+sj"))},AdvancedOptions:function(){return a.e(1).then(a.bind(null,"WjcE"))},InputChannel:function(){return a.e(0).then(a.bind(null,"9hiA"))}},data:function(){return{joinBtn:!1,channel:"",baseMode:"avc",transcode:"interop",attendeeMode:"video",videoProfile:"480p_4"}},methods:{handleChannel:function(e,t){this.channel=e,this.joinBtn=t},handleBaseMode:function(e){this.baseMode=e},handleTranscode:function(e){this.transcode=e},handleVideoProfile:function(e){this.videoProfile=e},handleAttendeeMode:function(e){this.attendeeMode=e.currentTarget.value},handleJoin:function(){this.joinBtn&&(u.set("channel",this.channel),u.set("baseMode",this.baseMode),u.set("transcode",this.transcode),u.set("attendeeMode",this.attendeeMode),u.set("videoProfile",this.videoProfile),this.$router.push("/meeting"))}},mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("keypress",function(t){13===t.keyCode&&e.handleJoin()})})}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper index"},[n("div",{staticClass:"ag-header"}),e._v(" "),n("div",{staticClass:"ag-main"},[n("section",{staticClass:"login-wrapper"},[n("div",{staticClass:"login-header"},[n("img",{attrs:{src:a("EEKM"),alt:""}}),e._v(" "),n("p",{staticClass:"login-title"},[e._v("AgoraWeb v2.1")]),e._v(" "),n("p",{staticClass:"login-subtitle"},[e._v("Powering Real-Time Communications")])]),e._v(" "),n("div",{staticClass:"login-body"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-12"},[n("InputChannel",{attrs:{placeholder:"Input a room name here"},on:{change:e.handleChannel}})],1)]),e._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-7"},[n("BaseOptions",{on:{change:e.handleBaseMode}})],1),e._v(" "),n("div",{staticClass:"column is-5"},[n("AdvancedOptions",{attrs:{onRadioChange:e.handleTranscode,onSelectChange:e.handleVideoProfile}})],1)]),e._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"control",attrs:{id:"attendeeMode"}},[n("label",{staticClass:"radio"},[n("input",{attrs:{value:"video",type:"radio",name:"attendee",checked:""},on:{click:e.handleAttendeeMode}}),e._v(" "),n("span",{staticClass:"radio-btn"}),e._v(" "),n("span",{staticClass:"radio-img video"}),e._v(" "),n("span",{staticClass:"radio-msg"},[e._v("Video Call : join with video call")])]),e._v(" "),n("br"),e._v(" "),n("label",{staticClass:"radio"},[n("input",{attrs:{value:"audio-only",type:"radio",name:"attendee"},on:{click:e.handleAttendeeMode}}),e._v(" "),n("span",{staticClass:"radio-btn"}),e._v(" "),n("span",{staticClass:"radio-img audio"}),e._v(" "),n("span",{staticClass:"radio-msg"},[e._v("Audio-only : join with audio call")])]),e._v(" "),n("br"),e._v(" "),n("label",{staticClass:"radio"},[n("input",{attrs:{value:"audience",type:"radio",name:"attendee"},on:{click:e.handleAttendeeMode}}),e._v(" "),n("span",{staticClass:"radio-btn"}),e._v(" "),n("span",{staticClass:"radio-img audience"}),e._v(" "),n("span",{staticClass:"radio-msg"},[e._v("Audience : join as an audience")])])])])])]),e._v(" "),n("div",{staticClass:"login-footer"},[n("a",{staticClass:"ag-rounded button is-info",attrs:{id:"joinBtn",disabled:!e.joinBtn},on:{click:e.handleJoin}},[e._v("Join\n        ")])])])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ag-footer"},[t("a",{staticClass:"ag-href",attrs:{href:"https://www.agora.io"}},[t("span",[this._v("Powered By Agora")])]),this._v(" "),t("div",[t("span",[this._v("Interested in Agora video call SDK? Contact ")]),this._v(" "),t("span",{staticClass:"ag-contact"},[this._v("sales@agora.io")])])])}]};var m=a("VU/8")(p,h,!1,function(e){a("tX8X")},"data-v-29079aa2",null).exports,v=a("r5KO"),g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"ag-canvas"}},[a("div",{staticClass:"ag-btn-group"},[a("span",{staticClass:"ag-btn exitBtn",class:{disabled:!e.readyState},attrs:{title:"Exit"},on:{click:e.handleExit}},[a("i",{staticClass:"ag-icon ag-icon-leave"})]),e._v(" "),"video"===e.attendeeMode?a("span",{staticClass:"ag-btn videoControlBtn",attrs:{title:"Enable/Disable Video"},on:{click:e.handleCamera}},[a("i",{staticClass:"ag-icon ag-icon-camera"}),e._v(" "),a("i",{staticClass:"ag-icon ag-icon-camera-off"})]):e._e(),e._v(" "),"audience"!==e.attendeeMode?a("span",{staticClass:"ag-btn audioControlBtn",attrs:{title:"Enable/Disable Audio"},on:{click:e.handleMic}},[a("i",{staticClass:"ag-icon ag-icon-mic"}),e._v(" "),a("i",{staticClass:"ag-icon ag-icon-mic-off"})]):e._e(),e._v(" "),a("span",{staticClass:"ag-btn displayModeBtn",class:{disabled:e.streamList.length>4},attrs:{title:"Switch Display Mode"},on:{click:e.switchDisplay}},[a("i",{staticClass:"ag-icon ag-icon-switch-display"})]),e._v(" "),a("span",{staticClass:"ag-btn disableRemoteBtn",class:{disabled:e.streamList.length>4||"pip"!==e.displayMode},attrs:{title:"Hide Remote Stream"},on:{click:e.hideRemote}},[a("i",{staticClass:"ag-icon ag-icon-remove-pip"})])])])},staticRenderFns:[]};var f=function(e){a("Kgfm")},b={components:{AgoraVideoCall:a("VU/8")(v.a,g,!1,f,null,null).exports},data:function(){return{videoProfile:u.get("videoProfile").split(",")[0]||"480p_4",channel:u.get("channel")||"test",transcode:u.get("transcode")||"interop",attendeeMode:u.get("attendeeMode")||"video",baseMode:u.get("baseMode")||"avc",uid:void 0}},created:function(){if(this.appId="ddb77ae4ffb344949b1f95a34b7f9ae0",!this.appId)return alert("Get App ID first!")}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper meeting"},[n("div",{staticClass:"ag-header"},[n("div",{staticClass:"ag-header-lead"},[n("img",{staticClass:"header-logo",attrs:{src:a("EEKM"),alt:""}}),e._v(" "),n("span",[e._v("AgoraWeb v2.1")])]),e._v(" "),n("div",{staticClass:"ag-header-msg"},[e._v("\n        Room:Â "),n("span",{attrs:{id:"room-name"}},[e._v(e._s(e.channel))])])]),e._v(" "),n("div",{staticClass:"ag-main"},[n("div",{staticClass:"ag-container"},[n("AgoraVideoCall",{attrs:{videoProfile:e.videoProfile,channel:e.channel,transcode:e.transcode,attendeeMode:e.attendeeMode,baseMode:e.baseMode,appId:e.appId,uid:e.uid}})],1)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ag-footer"},[t("a",{staticClass:"ag-href",attrs:{href:"https://www.agora.io"}},[t("span",[this._v("Powered By Agora")])]),this._v(" "),t("span",[this._v("Talk to Support: 400 632 6626")])])}]};var _=a("VU/8")(b,C,!1,function(e){a("7slG")},"data-v-0645dba8",null).exports;l.a.use(d.a);var y=new d.a({routes:[{path:"/",name:"Home",component:m},{path:"/meeting",name:"Meeting",component:_}]});a("GK12"),a("l4bg");l.a.config.productionTip=!1;o.a||(Object.entries=function(e){for(var t=s()(e),a=t.length,n=new Array(a);a--;)n[a]=[t[a],e[t[a]]];return n});new l.a({el:"#app",router:y,components:{App:r},template:"<App/>"})},"biX+":function(e,t){},l4bg:function(e,t){},r5KO:function(e,t,a){"use strict";(function(e){var n=a("c/Tr"),s=a.n(n),i=a("Gu7T"),o=a.n(i),l=a("M4fF"),c=(a.n(l),a("Gfsd")),r=a.n(c),d={1:["span 12/span 24"],2:["span 12/span 12/13/25","span 12/span 12/13/13"],3:["span 6/span 12","span 6/span 12","span 6/span 12/7/19"],4:["span 6/span 12","span 6/span 12","span 6/span 12","span 6/span 12/7/13"],5:["span 3/span 4/13/9","span 3/span 4/13/13","span 3/span 4/13/17","span 3/span 4/13/21","span 9/span 16/10/21"],6:["span 3/span 4/13/7","span 3/span 4/13/11","span 3/span 4/13/15","span 3/span 4/13/19","span 3/span 4/13/23","span 9/span 16/10/21"],7:["span 3/span 4/13/5","span 3/span 4/13/9","span 3/span 4/13/13","span 3/span 4/13/17","span 3/span 4/13/21","span 3/span 4/13/25","span 9/span 16/10/21"]};t.a={data:function(){return{client:{},localStream:{},shareClient:{},shareStream:{},displayMode:"pip",streamList:[],readyState:!1}},props:["transcode","attendeeMode","videoProfile","channel","baseMode","appId","uid"],methods:{streamInit:function(e,t,a,n){var s={streamID:e,audio:!0,video:!0,screen:!1};switch(t){case"audio-only":s.video=!1;break;case"audience":s.video=!1,s.audio=!1;break;default:case"video":}var i=r.a.createStream(Object(l.merge)(s,n));return i.setVideoProfile(a),i},subscribeStreamEvents:function(){var e=this;e.client.on("stream-added",function(t){var a=t.stream;console.log("New stream added: "+a.getId()),console.log("At "+(new Date).toLocaleTimeString()),console.log("Subscribe ",a),e.client.subscribe(a,function(e){console.log("Subscribe stream failed",e)})}),e.client.on("peer-leave",function(t){console.log("Peer has left: "+t.uid),console.log((new Date).toLocaleTimeString()),console.log(t),e.removeStream(t.uid)}),e.client.on("stream-subscribed",function(t){var a=t.stream;console.log("Got stream-subscribed event"),console.log((new Date).toLocaleTimeString()),console.log("Subscribe remote stream successfully: "+a.getId()),console.log(t),e.addStream(a)}),e.client.on("stream-removed",function(t){var a=t.stream;console.log("Stream removed: "+a.getId()),console.log((new Date).toLocaleTimeString()),console.log(t),e.removeStream(a.getId())})},removeStream:function(e){var t=this;this.streamList.map(function(a,n){if(a.getId()===e){a.close();var s=document.querySelector("#ag-item-"+e);s&&s.parentNode.removeChild(s);var i=[].concat(o()(t.streamList));i.splice(n,1),t.streamList=i}})},addStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.streamList.some(function(t){return t.getId()===e.getId()})||(this.streamList=t?this.streamList.concat([e]):[e].concat(this.streamList))},handleCamera:function(e){e.currentTarget.classList.toggle("off"),this.localStream.isVideoOn()?this.localStream.disableVideo():this.localStream.enableVideo()},handleMic:function(e){e.currentTarget.classList.toggle("off"),this.localStream.isAudioOn()?this.localStream.disableAudio():this.localStream.enableAudio()},switchDisplay:function(e){e.currentTarget.classList.contains("disabled")||this.streamList.length<=1||("pip"===this.displayMode?this.displayMode="tile":"tile"===this.displayMode?this.displayMode="pip":"share"===this.displayMode||console.error("Display Mode can only be tile/pip/share"))},hideRemote:function(e){if(!(e.currentTarget.classList.contains("disabled")||this.streamList.length<=1)){var t=this.streamList[this.streamList.length-1].getId();s()(document.querySelectorAll(".ag-item:not(#ag-item-"+t+")")).map(function(e){"none"!==e.style.display?e.style.display="none":e.style.display="block"})}},handleExit:function(e){if(!e.currentTarget.classList.contains("disabled"))try{this.client&&this.client.unpublish(this.localStream),this.localStream&&this.localStream.close(),this.client&&this.client.leave(function(){console.log("Client succeed to leave.")},function(){console.log("Client failed to leave.")})}finally{this.readyState=!1,this.client=null,this.localStream=null,this.$router.push("/")}}},created:function(){var e=this,t=this;t.client=r.a.createClient({mode:t.transcode}),t.client.init(t.appId,function(){console.log("AgoraRTC client initialized"),t.subscribeStreamEvents(),t.client.join(t.appId,t.channel,t.uid,function(a){console.log("User "+a+" join channel successfully"),console.log("At "+(new Date).toLocaleTimeString()),t.localStream=e.streamInit(a,t.attendeeMode,t.videoProfile),t.localStream.init(function(){"audience"!==t.attendeeMode&&(t.addStream(t.localStream,!0),t.client.publish(t.localStream,function(e){console.log("Publish local stream error: "+e)})),t.readyState=!0},function(e){console.log("getUserMedia failed",e),t.readyState=!0})})})},mounted:function(){this.$nextTick(function(){var t=document.querySelector("#ag-canvas"),a=document.querySelector(".ag-btn-group");t.addEventListener("mousemove",function(){e._toolbarToggle&&clearTimeout(e._toolbarToggle),a.classList.add("active"),e._toolbarToggle=setTimeout(function(){a.classList.remove("active")},2e3)})})},beforeUpdate:function(){var e=this,t=document.querySelector("#ag-canvas");if("pip"===e.displayMode){var a=e.streamList.length;if(a>4)return void(e.displayMode="tile");e.streamList.map(function(e,n){var s=e.getId(),i=document.querySelector("#ag-item-"+s);i||((i=document.createElement("section")).setAttribute("id","ag-item-"+s),i.setAttribute("class","ag-item"),t.appendChild(i),e.play("ag-item-"+s)),n===a-1?i.setAttribute("style","grid-area: span 12/span 24/13/25"):i.setAttribute("style","grid-area: span 3/span 4/"+(4+3*n)+"/25;\n          z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)"),e.player.resize&&e.player.resize()})}else if("tile"===e.displayMode){var n=e.streamList.length;e.streamList.map(function(e,a){var s=e.getId(),i=document.querySelector("#ag-item-"+s);i||((i=document.createElement("section")).setAttribute("id","ag-item-"+s),i.setAttribute("class","ag-item"),t.appendChild(i),e.play("ag-item-"+s)),i.setAttribute("style","grid-area: "+d[n][a]),e.player.resize&&e.player.resize()})}else e.displayMode},beforeDestroy:function(){this.client&&this.client.unpublish(this.localStream),this.localStream&&this.localStream.close(),this.client&&this.client.leave(function(){console.log("Client succeed to leave.")},function(){console.log("Client failed to leave.")})}}}).call(t,a("DuR2"))},tX8X:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.afbd7c03093b213df7f4.js.map